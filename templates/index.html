{% extends "base.html" %}
{% block content %}

<div class="grid">
  <div class="card">
    <h2>Chain</h2>
    <p class="muted">Height</p>
    <p class="value">{{ chain.blocks }}</p>
    <p class="muted">Difficulty</p>
    {% set difficulty = chain.get("difficulty") %}
    <p>
      {% if difficulty is not none %}
        {{ "{:,.2f}".format(difficulty) }}
      {% else %}
        -
      {% endif %}
    </p>
  </div>
  <div class="card">
    <h2>Mempool</h2>
    <p class="muted">Transactions</p>
    <p>{{ mempool.size }}</p>
    <p class="muted">Bytes</p>
    <p>{{ "{:,}".format(mempool.bytes) }}</p>
  </div>
</div>

<h2 style="margin-top: 1.5rem;">Latest Blocks</h2>
<div class="table-scroll">
  <table>
    <thead>
      <tr>
        <th>Height</th>
        <th>Hash</th>
        <th>Time</th>
        <th>Tx</th>
        <th>Size (bytes)</th>
      </tr>
    </thead>
    <tbody>
      {% for block in blocks %}
      <tr>
        <td><a href="{{ url_for('block_by_height', height=block.height) }}">{{ block.height }}</a></td>
        <td class="hash"><a href="{{ url_for('block_detail', block_hash=block.hash) }}">{{ block.hash }}</a></td>
        <td>{{ block.age }}</td>
        <td>{{ block.nTx }}</td>
        <td>{{ "{:,}".format(block.size) }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
